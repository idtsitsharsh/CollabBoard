{"ast":null,"code":"var _jsxFileName = \"F:\\\\Open Project'25\\\\MARS Open Project\\\\Collaborative-whiteboard-with-real-time-drawing\\\\frontend\\\\src\\\\components\\\\Whiteboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { useSocket } from '../context/SocketContext';\nimport Toolbar from './Toolbar';\nimport Sidebar from './Sidebar';\nimport Canvas from './Canvas';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst WhiteboardContainer = styled.div`\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background: linear-gradient(145deg, #f2f8ff, #e6f7f1);\n  padding-left: 160px; /* ðŸ‘ˆ Restored to prevent collision with toolbar */\n  position: relative;\n`;\n_c = WhiteboardContainer;\nconst Header = styled.header`\n  padding: 16px 24px;\n  background: #ffffff;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 2px solid #ececec;\n  box-shadow: 0 4px 8px rgba(0,0,0,0.04);\n`;\n_c2 = Header;\nconst Title = styled.h1`\n  font-size: 1.6rem;\n  font-weight: bold;\n  color: #2f3542;\n  font-family: 'Comic Neue', cursive;\n`;\n_c3 = Title;\nconst ActionButtons = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n`;\n_c4 = ActionButtons;\nconst RoundIconBtn = styled.button`\n  width: 44px;\n  height: 44px;\n  border: none;\n  border-radius: 50%;\n  background: #f1f3f5;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  position: relative;\n  transition: all 0.2s ease-in-out;\n\n  &:hover {\n    background: #e2e6ea;\n  }\n`;\n_c5 = RoundIconBtn;\nconst PrimaryBtn = styled.button`\n  padding: 10px 18px;\n  background: linear-gradient(to right, #6a82fb, #56ccf2);\n  color: white;\n  border: none;\n  border-radius: 20px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background 0.2s ease;\n\n  &:hover {\n    background: linear-gradient(to right, #5b72e2, #4abde4);\n  }\n`;\n_c6 = PrimaryBtn;\nconst LeaveBtn = styled(PrimaryBtn)`\n  background: linear-gradient(to right, #ff6a6a, #ff4757);\n  &:hover {\n    background: linear-gradient(to right, #e05a5a, #e03e4f);\n  }\n`;\n_c7 = LeaveBtn;\nconst ChatDot = styled.span`\n  position: absolute;\n  bottom: 6px;\n  right: 6px;\n  width: 10px;\n  height: 10px;\n  background: #ff4757;\n  border-radius: 50%;\n`;\n_c8 = ChatDot;\nconst CanvasContainer = styled.div`\n  flex: 1;\n  display: flex;\n  background: #fdfdfd;\n`;\n_c9 = CanvasContainer;\nconst SidebarOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  right: 0;\n  width: min(320px, 90vw);\n  height: 100%;\n  background: #ffffff;\n  box-shadow: -4px 0 10px rgba(0,0,0,0.1);\n  transition: transform 0.3s ease-in-out;\n  transform: ${({\n  $show\n}) => $show ? 'translateX(0)' : 'translateX(100%)'};\n  z-index: 1000;\n`;\n_c0 = SidebarOverlay;\nconst Backdrop = styled.div`\n  position: fixed;\n  top: 0; left: 0; right: 0; bottom: 0;\n  background: rgba(0, 0, 0, 0.4);\n  z-index: 999;\n  display: ${({\n  $show\n}) => $show ? 'block' : 'none'};\n`;\n_c1 = Backdrop;\nconst LoadingOverlay = styled.div`\n  position: fixed;\n  inset: 0;\n  background: rgba(255, 255, 255, 0.8);\n  z-index: 10000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n_c10 = LoadingOverlay;\nconst LoadingText = styled.div`\n  font-size: 1.2rem;\n  color: #333;\n`;\n_c11 = LoadingText;\nconst ChatIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 20V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7l-3 3z\",\n    stroke: \"#444\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    fill: \"none\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 133,\n  columnNumber: 3\n}, this);\n_c12 = ChatIcon;\nfunction Whiteboard() {\n  _s();\n  const {\n    roomId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    socket,\n    isConnected,\n    currentRoom,\n    users,\n    joinRoom,\n    leaveRoom,\n    sendDraw,\n    clearCanvas,\n    undo,\n    redo,\n    socketReady\n  } = useSocket();\n  const [isLoading, setIsLoading] = useState(true);\n  const [showSidebar, setShowSidebar] = useState(false);\n  const [currentUsername, setCurrentUsername] = useState('');\n  const [drawingSettings, setDrawingSettings] = useState({\n    tool: 'pen',\n    color: '#000000',\n    brushSize: 2,\n    opacity: 1\n  });\n  const [pendingPassword, setPendingPassword] = useState(null);\n  const [joinTried, setJoinTried] = useState(false);\n  const canvasRef = useRef(null);\n  const [remoteDrawEvent, setRemoteDrawEvent] = useState(null);\n  const hasJoinedRef = useRef(false);\n  const [hasUnreadMessages, setHasUnreadMessages] = useState(false);\n  useEffect(() => {\n    if (!socket) return;\n    const handleJoinError = error => {\n      if (error.message === 'Incorrect password' || error.message === 'Password required') {\n        let password = '';\n        while (!password) {\n          password = window.prompt('Enter room password:');\n          if (password === null) return navigate('/');\n        }\n        setPendingPassword(password);\n        setJoinTried(false);\n        hasJoinedRef.current = false;\n      } else {\n        alert(error.message);\n        navigate('/');\n      }\n    };\n    socket.on('join-error', handleJoinError);\n    return () => socket.off('join-error', handleJoinError);\n  }, [socket, navigate]);\n  useEffect(() => {\n    if (isConnected && roomId && socketReady && !hasJoinedRef.current && !joinTried) {\n      let username = localStorage.getItem('username') || `User${Math.floor(Math.random() * 1000)}`;\n      localStorage.setItem('username', username);\n      setCurrentUsername(username);\n      const isPrivate = !!pendingPassword;\n      joinRoom(roomId, username, isPrivate, pendingPassword || '');\n      setIsLoading(false);\n      hasJoinedRef.current = true;\n      setJoinTried(true);\n    }\n  }, [isConnected, roomId, joinRoom, socketReady, pendingPassword, joinTried]);\n  useEffect(() => {\n    if (socket) {\n      socket.on('draw', setRemoteDrawEvent);\n      socket.on('stroke', setRemoteDrawEvent);\n      socket.on('clear-canvas', () => {\n        var _canvasRef$current;\n        return (_canvasRef$current = canvasRef.current) === null || _canvasRef$current === void 0 ? void 0 : _canvasRef$current.clear();\n      });\n      socket.on('canvas-data', ({\n        canvasData\n      }) => {\n        var _canvasRef$current2;\n        return (_canvasRef$current2 = canvasRef.current) === null || _canvasRef$current2 === void 0 ? void 0 : _canvasRef$current2.loadImageFromDataUrl(canvasData || '');\n      });\n      return () => {\n        socket.off('draw');\n        socket.off('stroke');\n        socket.off('clear-canvas');\n        socket.off('canvas-data');\n      };\n    }\n  }, [socket]);\n  useEffect(() => {\n    if (socket && currentRoom !== null && currentRoom !== void 0 && currentRoom.roomId) {\n      socket.emit('request-canvas', {\n        roomId: currentRoom.roomId\n      });\n    }\n  }, [socket, currentRoom]);\n  const handleDrawEvent = drawData => sendDraw({\n    ...drawData,\n    roomId: (currentRoom === null || currentRoom === void 0 ? void 0 : currentRoom.roomId) || roomId\n  });\n  const handleExportImage = async () => {\n    var _canvasRef$current3;\n    const dataUrl = (_canvasRef$current3 = canvasRef.current) === null || _canvasRef$current3 === void 0 ? void 0 : _canvasRef$current3.exportImage();\n    if (dataUrl) {\n      const link = document.createElement('a');\n      link.download = `whiteboard-${roomId}.png`;\n      link.href = dataUrl;\n      link.click();\n    }\n  };\n  const handleExportPDF = async () => {\n    try {\n      const pdf = await canvasRef.current.exportPDF();\n      pdf.save(`whiteboard-${roomId}.pdf`);\n    } catch (err) {\n      alert('PDF export failed');\n    }\n  };\n  const handleLeaveRoom = () => leaveRoom(() => setTimeout(() => navigate('/'), 0));\n  const copyRoomLink = () => {\n    navigator.clipboard.writeText(`${window.location.origin}/whiteboard/${roomId}`);\n    alert('Room link copied to clipboard!');\n  };\n  const handleNewSidebarMessage = () => !showSidebar && setHasUnreadMessages(true);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n      children: /*#__PURE__*/_jsxDEV(LoadingText, {\n        children: \"Connecting to room...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(WhiteboardContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          children: \"\\u2728 CollabBoard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ActionButtons, {\n          children: [/*#__PURE__*/_jsxDEV(PrimaryBtn, {\n            onClick: copyRoomLink,\n            children: \"Share\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(RoundIconBtn, {\n            onClick: () => setShowSidebar(!showSidebar),\n            \"aria-label\": \"Chat\",\n            children: [/*#__PURE__*/_jsxDEV(ChatIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this), !showSidebar && hasUnreadMessages && /*#__PURE__*/_jsxDEV(ChatDot, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 53\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LeaveBtn, {\n            onClick: handleLeaveRoom,\n            children: \"Leave\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CanvasContainer, {\n        children: /*#__PURE__*/_jsxDEV(Canvas, {\n          ref: canvasRef,\n          tool: drawingSettings.tool,\n          color: drawingSettings.color,\n          brushSize: drawingSettings.brushSize,\n          opacity: drawingSettings.opacity,\n          onDrawEvent: handleDrawEvent,\n          remoteDrawEvent: remoteDrawEvent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Toolbar, {\n        settings: drawingSettings,\n        onSettingsChange: setDrawingSettings,\n        onClear: () => clearCanvas((currentRoom === null || currentRoom === void 0 ? void 0 : currentRoom.roomId) || roomId),\n        onUndo: () => undo((currentRoom === null || currentRoom === void 0 ? void 0 : currentRoom.roomId) || roomId),\n        onRedo: () => redo((currentRoom === null || currentRoom === void 0 ? void 0 : currentRoom.roomId) || roomId),\n        onExportImage: handleExportImage,\n        onExportPDF: handleExportPDF\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SidebarOverlay, {\n      $show: showSidebar,\n      children: /*#__PURE__*/_jsxDEV(Sidebar, {\n        users: users,\n        roomId: roomId,\n        currentUsername: currentUsername,\n        onClose: () => setShowSidebar(false),\n        onNewMessage: handleNewSidebarMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Backdrop, {\n      $show: showSidebar,\n      onClick: () => setShowSidebar(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Whiteboard, \"r8eBKzMxGHjVqdqmv0vsCWbG9Xw=\", false, function () {\n  return [useParams, useNavigate, useSocket];\n});\n_c13 = Whiteboard;\nexport default Whiteboard;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13;\n$RefreshReg$(_c, \"WhiteboardContainer\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"ActionButtons\");\n$RefreshReg$(_c5, \"RoundIconBtn\");\n$RefreshReg$(_c6, \"PrimaryBtn\");\n$RefreshReg$(_c7, \"LeaveBtn\");\n$RefreshReg$(_c8, \"ChatDot\");\n$RefreshReg$(_c9, \"CanvasContainer\");\n$RefreshReg$(_c0, \"SidebarOverlay\");\n$RefreshReg$(_c1, \"Backdrop\");\n$RefreshReg$(_c10, \"LoadingOverlay\");\n$RefreshReg$(_c11, \"LoadingText\");\n$RefreshReg$(_c12, \"ChatIcon\");\n$RefreshReg$(_c13, \"Whiteboard\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useParams","useNavigate","styled","useSocket","Toolbar","Sidebar","Canvas","jsxDEV","_jsxDEV","Fragment","_Fragment","WhiteboardContainer","div","_c","Header","header","_c2","Title","h1","_c3","ActionButtons","_c4","RoundIconBtn","button","_c5","PrimaryBtn","_c6","LeaveBtn","_c7","ChatDot","span","_c8","CanvasContainer","_c9","SidebarOverlay","$show","_c0","Backdrop","_c1","LoadingOverlay","_c10","LoadingText","_c11","ChatIcon","width","height","viewBox","fill","children","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","fileName","_jsxFileName","lineNumber","columnNumber","_c12","Whiteboard","_s","roomId","navigate","socket","isConnected","currentRoom","users","joinRoom","leaveRoom","sendDraw","clearCanvas","undo","redo","socketReady","isLoading","setIsLoading","showSidebar","setShowSidebar","currentUsername","setCurrentUsername","drawingSettings","setDrawingSettings","tool","color","brushSize","opacity","pendingPassword","setPendingPassword","joinTried","setJoinTried","canvasRef","remoteDrawEvent","setRemoteDrawEvent","hasJoinedRef","hasUnreadMessages","setHasUnreadMessages","handleJoinError","error","message","password","window","prompt","current","alert","on","off","username","localStorage","getItem","Math","floor","random","setItem","isPrivate","_canvasRef$current","clear","canvasData","_canvasRef$current2","loadImageFromDataUrl","emit","handleDrawEvent","drawData","handleExportImage","_canvasRef$current3","dataUrl","exportImage","link","document","createElement","download","href","click","handleExportPDF","pdf","exportPDF","save","err","handleLeaveRoom","setTimeout","copyRoomLink","navigator","clipboard","writeText","location","origin","handleNewSidebarMessage","onClick","ref","onDrawEvent","settings","onSettingsChange","onClear","onUndo","onRedo","onExportImage","onExportPDF","onClose","onNewMessage","_c13","$RefreshReg$"],"sources":["F:/Open Project'25/MARS Open Project/Collaborative-whiteboard-with-real-time-drawing/frontend/src/components/Whiteboard.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { useSocket } from '../context/SocketContext';\r\nimport Toolbar from './Toolbar';\r\nimport Sidebar from './Sidebar';\r\nimport Canvas from './Canvas';\r\nconst WhiteboardContainer = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: linear-gradient(145deg, #f2f8ff, #e6f7f1);\r\n  padding-left: 160px; /* ðŸ‘ˆ Restored to prevent collision with toolbar */\r\n  position: relative;\r\n`;\r\n\r\nconst Header = styled.header`\r\n  padding: 16px 24px;\r\n  background: #ffffff;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: 2px solid #ececec;\r\n  box-shadow: 0 4px 8px rgba(0,0,0,0.04);\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 1.6rem;\r\n  font-weight: bold;\r\n  color: #2f3542;\r\n  font-family: 'Comic Neue', cursive;\r\n`;\r\n\r\nconst ActionButtons = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n`;\r\n\r\nconst RoundIconBtn = styled.button`\r\n  width: 44px;\r\n  height: 44px;\r\n  border: none;\r\n  border-radius: 50%;\r\n  background: #f1f3f5;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  position: relative;\r\n  transition: all 0.2s ease-in-out;\r\n\r\n  &:hover {\r\n    background: #e2e6ea;\r\n  }\r\n`;\r\n\r\nconst PrimaryBtn = styled.button`\r\n  padding: 10px 18px;\r\n  background: linear-gradient(to right, #6a82fb, #56ccf2);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 20px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: background 0.2s ease;\r\n\r\n  &:hover {\r\n    background: linear-gradient(to right, #5b72e2, #4abde4);\r\n  }\r\n`;\r\n\r\nconst LeaveBtn = styled(PrimaryBtn)`\r\n  background: linear-gradient(to right, #ff6a6a, #ff4757);\r\n  &:hover {\r\n    background: linear-gradient(to right, #e05a5a, #e03e4f);\r\n  }\r\n`;\r\n\r\nconst ChatDot = styled.span`\r\n  position: absolute;\r\n  bottom: 6px;\r\n  right: 6px;\r\n  width: 10px;\r\n  height: 10px;\r\n  background: #ff4757;\r\n  border-radius: 50%;\r\n`;\r\n\r\nconst CanvasContainer = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  background: #fdfdfd;\r\n`;\r\n\r\nconst SidebarOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  width: min(320px, 90vw);\r\n  height: 100%;\r\n  background: #ffffff;\r\n  box-shadow: -4px 0 10px rgba(0,0,0,0.1);\r\n  transition: transform 0.3s ease-in-out;\r\n  transform: ${({ $show }) => ($show ? 'translateX(0)' : 'translateX(100%)')};\r\n  z-index: 1000;\r\n`;\r\n\r\nconst Backdrop = styled.div`\r\n  position: fixed;\r\n  top: 0; left: 0; right: 0; bottom: 0;\r\n  background: rgba(0, 0, 0, 0.4);\r\n  z-index: 999;\r\n  display: ${({ $show }) => ($show ? 'block' : 'none')};\r\n`;\r\n\r\nconst LoadingOverlay = styled.div`\r\n  position: fixed;\r\n  inset: 0;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  z-index: 10000;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst LoadingText = styled.div`\r\n  font-size: 1.2rem;\r\n  color: #333;\r\n`;\r\n\r\nconst ChatIcon = () => (\r\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n    <path d=\"M4 20V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7l-3 3z\" stroke=\"#444\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" fill=\"none\"/>\r\n  </svg>\r\n);\r\n\r\nfunction Whiteboard() {\r\n  const { roomId } = useParams();\r\n  const navigate = useNavigate();\r\n  const {\r\n    socket, isConnected, currentRoom, users,\r\n    joinRoom, leaveRoom, sendDraw, clearCanvas,\r\n    undo, redo, socketReady\r\n  } = useSocket();\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [showSidebar, setShowSidebar] = useState(false);\r\n  const [currentUsername, setCurrentUsername] = useState('');\r\n  const [drawingSettings, setDrawingSettings] = useState({\r\n    tool: 'pen',\r\n    color: '#000000',\r\n    brushSize: 2,\r\n    opacity: 1\r\n  });\r\n  const [pendingPassword, setPendingPassword] = useState(null);\r\n  const [joinTried, setJoinTried] = useState(false);\r\n  const canvasRef = useRef(null);\r\n  const [remoteDrawEvent, setRemoteDrawEvent] = useState(null);\r\n  const hasJoinedRef = useRef(false);\r\n  const [hasUnreadMessages, setHasUnreadMessages] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n    const handleJoinError = (error) => {\r\n      if (error.message === 'Incorrect password' || error.message === 'Password required') {\r\n        let password = '';\r\n        while (!password) {\r\n          password = window.prompt('Enter room password:');\r\n          if (password === null) return navigate('/');\r\n        }\r\n        setPendingPassword(password);\r\n        setJoinTried(false);\r\n        hasJoinedRef.current = false;\r\n      } else {\r\n        alert(error.message);\r\n        navigate('/');\r\n      }\r\n    };\r\n    socket.on('join-error', handleJoinError);\r\n    return () => socket.off('join-error', handleJoinError);\r\n  }, [socket, navigate]);\r\n\r\n  useEffect(() => {\r\n    if (isConnected && roomId && socketReady && !hasJoinedRef.current && !joinTried) {\r\n      let username = localStorage.getItem('username') || `User${Math.floor(Math.random() * 1000)}`;\r\n      localStorage.setItem('username', username);\r\n      setCurrentUsername(username);\r\n      const isPrivate = !!pendingPassword;\r\n      joinRoom(roomId, username, isPrivate, pendingPassword || '');\r\n      setIsLoading(false);\r\n      hasJoinedRef.current = true;\r\n      setJoinTried(true);\r\n    }\r\n  }, [isConnected, roomId, joinRoom, socketReady, pendingPassword, joinTried]);\r\n\r\n  useEffect(() => {\r\n    if (socket) {\r\n      socket.on('draw', setRemoteDrawEvent);\r\n      socket.on('stroke', setRemoteDrawEvent);\r\n      socket.on('clear-canvas', () => canvasRef.current?.clear());\r\n      socket.on('canvas-data', ({ canvasData }) =>\r\n        canvasRef.current?.loadImageFromDataUrl(canvasData || '')\r\n      );\r\n      return () => {\r\n        socket.off('draw');\r\n        socket.off('stroke');\r\n        socket.off('clear-canvas');\r\n        socket.off('canvas-data');\r\n      };\r\n    }\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    if (socket && currentRoom?.roomId) {\r\n      socket.emit('request-canvas', { roomId: currentRoom.roomId });\r\n    }\r\n  }, [socket, currentRoom]);\r\n\r\n  const handleDrawEvent = (drawData) =>\r\n    sendDraw({ ...drawData, roomId: currentRoom?.roomId || roomId });\r\n\r\n  const handleExportImage = async () => {\r\n    const dataUrl = canvasRef.current?.exportImage();\r\n    if (dataUrl) {\r\n      const link = document.createElement('a');\r\n      link.download = `whiteboard-${roomId}.png`;\r\n      link.href = dataUrl;\r\n      link.click();\r\n    }\r\n  };\r\n\r\n  const handleExportPDF = async () => {\r\n    try {\r\n      const pdf = await canvasRef.current.exportPDF();\r\n      pdf.save(`whiteboard-${roomId}.pdf`);\r\n    } catch (err) {\r\n      alert('PDF export failed');\r\n    }\r\n  };\r\n\r\n  const handleLeaveRoom = () => leaveRoom(() => setTimeout(() => navigate('/'), 0));\r\n  const copyRoomLink = () => {\r\n    navigator.clipboard.writeText(`${window.location.origin}/whiteboard/${roomId}`);\r\n    alert('Room link copied to clipboard!');\r\n  };\r\n\r\n  const handleNewSidebarMessage = () => !showSidebar && setHasUnreadMessages(true);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <LoadingOverlay>\r\n        <LoadingText>Connecting to room...</LoadingText>\r\n      </LoadingOverlay>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <WhiteboardContainer>\r\n        <Header>\r\n          <Title>âœ¨ CollabBoard</Title>\r\n          <ActionButtons>\r\n            <PrimaryBtn onClick={copyRoomLink}>Share</PrimaryBtn>\r\n            <RoundIconBtn onClick={() => setShowSidebar(!showSidebar)} aria-label=\"Chat\">\r\n              <ChatIcon />\r\n              {!showSidebar && hasUnreadMessages && <ChatDot />}\r\n            </RoundIconBtn>\r\n            <LeaveBtn onClick={handleLeaveRoom}>Leave</LeaveBtn>\r\n          </ActionButtons>\r\n        </Header>\r\n\r\n        <CanvasContainer>\r\n          <Canvas\r\n            ref={canvasRef}\r\n            tool={drawingSettings.tool}\r\n            color={drawingSettings.color}\r\n            brushSize={drawingSettings.brushSize}\r\n            opacity={drawingSettings.opacity}\r\n            onDrawEvent={handleDrawEvent}\r\n            remoteDrawEvent={remoteDrawEvent}\r\n          />\r\n        </CanvasContainer>\r\n\r\n        <Toolbar\r\n          settings={drawingSettings}\r\n          onSettingsChange={setDrawingSettings}\r\n          onClear={() => clearCanvas(currentRoom?.roomId || roomId)}\r\n          onUndo={() => undo(currentRoom?.roomId || roomId)}\r\n          onRedo={() => redo(currentRoom?.roomId || roomId)}\r\n          onExportImage={handleExportImage}\r\n          onExportPDF={handleExportPDF}\r\n        />\r\n      </WhiteboardContainer>\r\n\r\n      <SidebarOverlay $show={showSidebar}>\r\n        <Sidebar\r\n          users={users}\r\n          roomId={roomId}\r\n          currentUsername={currentUsername}\r\n          onClose={() => setShowSidebar(false)}\r\n          onNewMessage={handleNewSidebarMessage}\r\n        />\r\n      </SidebarOverlay>\r\n\r\n      <Backdrop $show={showSidebar} onClick={() => setShowSidebar(false)} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Whiteboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}